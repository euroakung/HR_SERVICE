<div class="    app-row  ">

  <h1>
    <i class="  simple-icon-calendar "></i>
    <span class="align-middle d-inline-block pt-1">
      &nbsp; {{'leave.detail' | translate}}
    </span>
  </h1>

  <ng-container *ngIf="currentSurvey; else loading">
    <div class="col-12">
      <tabset class="separator-tabs ml-0">
        <tab [heading]="('leave.detail' | translate)" class="tab-content">
          <div class="row ">
            <div class="col-12 col-lg-12 mb-12">
              <div class="card mb-12">
                <div class="card-body">
                  <!-- <form #overLineForm="ngForm" novalidate> -->

                    <h2 class="mb-4"> {{'leave.detail' | translate}}</h2>

                  <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
                    <div class="form-row">

                      <div class="form-group col-lg-12 mb-4">
                        <label>{{'leave.write-at'|translate}}</label>
                        <input type="text" name="txtwrite" class="form-control" [(ngModel)]="model.txtwrite"
                          value="มหาวิทยาลัยพะเยา" #txtwrite="ngModel"
                          [ngClass]="{ 'is-invalid': f.submitted && txtwrite.invalid }" required>
                        <div *ngIf="f.submitted && txtwrite.invalid" class="invalid-feedback">
                          <div *ngIf="txtwrite.errors.required">First Name is required</div>
                        </div>
                      </div> 
                    </div>
                    <div class="form-row">
                      <div class="form-group col ">
                        <label>{{'leave.subject'|translate}} </label>
                        <select name="title" class="form-control" [(ngModel)]="model.title" #title="ngModel"
                          [ngClass]="{ 'is-invalid': f.submitted && title.invalid }" required> 
                          <option value="Mr">{{'leave.leave-sick'|translate}} </option>
                          <option value="Mrs">{{'leave.leave-personal'|translate}} </option>
                        </select>
                        <div *ngIf="f.submitted && title.invalid" class="invalid-feedback">
                          <div *ngIf="title.errors.required">{{'message.please-choose'|translate}} </div>
                        </div>
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="col-12 col-lg-12 mb-4">
                        <label><span>{{'leave.inform'|translate}}</span></label>
                        <ng-select [items]="githubUsers$ | async" [multiple]="false" bindLabel="login" bindValue="login"
                          [(ngModel)]="model.selectedUsers" #selectedUsers="ngModel" name="selectedUsers"
                          class="form-control" [ngClass]="{ 'is-invalid': f.submitted && selectedUsers.invalid }"
                          required>
                          <ng-template ng-label-tmp let-item="item" let-clear="clear">
                            <span class="ng-value-label"><img [src]="item.avatar_url" width="12px" height="12px">
                              {{item.login}}</span>
                          </ng-template>
                          <ng-template ng-option-tmp let-item="item">
                            <img [src]="item.avatar_url" width="12px" height="12px"> {{item.login}}
                          </ng-template>
                        </ng-select>
                        <div *ngIf="f.submitted && selectedUsers.invalid" class="invalid-feedback">
                          <div *ngIf="selectedUsers.errors.required">{{ 'forms.state' | translate }} is selectedUsers
                          </div>
                        </div>
                      </div>



                    </div>


                    <div class="form-row">
                      <div class="form-group col-md-6">
                        <label for="leave_aboard"> <h6>{{ 'leave.leave_aboard' | translate }}</h6></label>
                        <div class="custom-control custom-switch">
                          <input type="checkbox" class="custom-control-input" id="leave_aboard" >
                          <label class="custom-control-label" for="leave_aboard">
                            {{'leave.yes' | translate}}</label>
                        </div>

                      </div>
                      <div class="form-group col-md-6">
                        <label class="font-lg"> <h6>{{'leave.leave_country'|translate}} </h6> </label>
                        <ng-select [items]="githubUsers$ | async" [multiple]="false" bindLabel="login" bindValue="login"
                        [(ngModel)]="model.selectedUsers" #selectedCountry="ngModel" name="selectedCountry"
                        class="form-control" [ngClass]="{ 'is-invalid': f.submitted && selectedCountry.invalid }"
                        required>
                        <ng-template ng-label-tmp let-item="item" let-clear="clear">
                          <span class="ng-value-label"><img [src]="item.avatar_url" width="12px" height="12px">
                            {{item.login}}</span>
                        </ng-template>
                        <ng-template ng-option-tmp let-item="item">
                          <img [src]="item.avatar_url" width="12px" height="12px"> {{item.login}}
                        </ng-template>
                      </ng-select>
                      <div *ngIf="f.submitted && selectedCountry.invalid" class="invalid-feedback">
                        <div *ngIf="selectedCountry.errors.required">{{ 'leave.selectedCountry' | translate }} is selectedCountry
                        </div>
                      </div>
                      </div> 
                    </div>






                    <div class="form-row">
                      <div class="form-group col-md-5">
                        <label for="inputCity">{{ 'leave.date_from' | translate }}</label>
                        <input type="text" name="date3" class="form-control" bsDatepicker [container]="'html'"
                        [(ngModel)]="model.date3" #date3="ngModel"
                        [ngClass]="{ 'is-invalid': f.submitted && date3.invalid }" required>
                        <div *ngIf="f.submitted && date3.invalid" class="invalid-feedback">
                          <div *ngIf="date3.errors.required">date required</div>
                        </div>

                      </div>
                      <div class="form-group col-md-1">
                        <label for="customSwitch1"> {{'leave.leave_fullday' | translate}}/{{'leave.leave_halfday' | translate}}</label>
                        <div class="custom-control custom-switch">
                          <input type="checkbox" class="custom-control-input" id="customSwitch1" checked>
                          <label class="custom-control-label" for="customSwitch1">
                            {{'leave.leave_fullday' | translate}}</label>
                        </div>
                      </div>
                      <div class="form-group col-md-5">
                        <label for="inputZip">{{ 'leave.date_end' | translate }}</label>
                        <input type="text" name="date4" class="form-control" bsDatepicker [container]="'html'"
                        [(ngModel)]="model.date4" #date4="ngModel"
                        [ngClass]="{ 'is-invalid': f.submitted && date4.invalid }" required>
                    
                      <div *ngIf="f.submitted && date4.invalid" class="invalid-feedback">
                        <div *ngIf="date4.errors.required">date required</div>
                      </div>
                      </div>
                      <div class="form-group col-md-1">
                        <label for="customSwitch2"> {{'leave.leave_fullday' | translate}}/{{'leave.leave_halfday' | translate}}</label>
                        <div class="custom-control custom-switch">
                          <input type="checkbox" class="custom-control-input" id="customSwitch2" checked>
                          <label class="custom-control-label" for="customSwitch2">
                            {{'leave.leave_fullday' | translate}}</label>
                        </div>
                      </div>
                    </div>
 
                    <div class="form-group">
                      <label>{{ 'leave.leave_contact' | translate }}</label>
                      <input type="text" name="email" class="form-control" [(ngModel)]="model.email" #email="ngModel"
                        [ngClass]="{ 'is-invalid': f.submitted && email.invalid }" required email>
                      <div *ngIf="f.submitted && email.invalid" class="invalid-feedback">
                        <div *ngIf="email.errors.required">Email is required</div>
                        <div *ngIf="email.errors.email">Email must be a valid email address</div>
                      </div>
                    </div> 
                 
                    <div class="form-row">
                      <div class=" card-body text-center ">
                    <button type="submit" class="btn btn-success mb-1 mr-2"> <i class="iconsminds-save"></i> {{'leave.leave_save' | translate}}</button>
                    <button type="button" class="btn btn-danger mb-1 ml-2 "> <i class="simple-icon-trash"></i> {{'leave.leave_cancel' | translate}}</button> 
                  </div>
                </div>
                  </form>

                   
                </div>
              </div>
            </div>

          </div>
        </tab>





        <tab [heading]="('leave.results' | translate)" class="tab-content">
          <div class="row">
            <div class="col-12 col-lg-4">
              <div class="card mb-4">
                <div class="card-body">
                  <p class="list-item-heading mb-4">{{ 'survey.quota' | translate }}</p>
                  <div class="mb-4">
                    <p class="mb-2">Gender</p>
                    <progressbar class="mb-3" [value]="[{'value':60, type :'theme-1' },{'value':40, type :'theme-2' }]">
                    </progressbar>
                    <table class="table table-sm table-borderless">
                      <tbody>
                        <tr>
                          <td class="p-0 pb-1 w-10">
                            <span class="log-indicator border-theme-1 align-middle"></span>
                          </td>
                          <td class="p-0 pb-1">
                            <span class="font-weight-medium text-muted text-small">105/125
                              Male</span>
                          </td>
                        </tr>
                        <tr>
                          <td class="p-0 pb-1 w-10">
                            <span class="log-indicator border-theme-2 align-middle"></span>
                          </td>
                          <td class="p-0 pb-1">
                            <span class="font-weight-medium text-muted text-small">90/125
                              Female</span>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="mb-4">
                    <p class="mb-2">Education</p>
                    <div class="progress mb-3">
                      <progressbar class="mb-3"
                        [value]="[{'value':80, type :'theme-1' },{'value':20, type :'theme-2' }]">
                      </progressbar>
                    </div>
                    <table class="table table-sm table-borderless">
                      <tbody>
                        <tr>
                          <td class="p-0 pb-1 w-10">
                            <span class="log-indicator border-theme-1 align-middle"></span>
                          </td>
                          <td class="p-0 pb-1">
                            <span class="font-weight-medium text-muted text-small">139/125
                              College</span>
                          </td>
                        </tr>
                        <tr>
                          <td class="p-0 pb-1 w-10">
                            <span class="log-indicator border-theme-2 align-middle"></span>
                          </td>
                          <td class="p-0 pb-1">
                            <span class="font-weight-medium text-muted text-small">95/125
                              High School</span>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="mb-4">
                    <p class="mb-2">Age</p>
                    <progressbar class="mb-3"
                      [value]="[{'value':35, type :'theme-1' },{'value':25, type :'theme-2' },{'value':40, type :'theme-3' }]">
                    </progressbar>
                    <table class="table table-sm table-borderless">
                      <tbody>
                        <tr>
                          <td class="p-0 pb-1 w-10">
                            <span class="log-indicator border-theme-1 align-middle"></span>
                          </td>
                          <td class="p-0 pb-1">
                            <span class="font-weight-medium text-muted text-small">50/75
                              18-24</span>
                          </td>
                        </tr>
                        <tr>
                          <td class="p-0 pb-1 w-10">
                            <span class="log-indicator border-theme-2 align-middle"></span>
                          </td>
                          <td class="p-0 pb-1">
                            <span class="font-weight-medium text-muted text-small">40/75
                              24-30</span>
                          </td>
                        </tr>
                        <tr>
                          <td class="p-0 pb-1 w-10">
                            <span class="log-indicator border-theme-3 align-middle"></span>
                          </td>
                          <td class="p-0 pb-1">
                            <span class="font-weight-medium text-muted text-small">60/75
                              30-40</span>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-12 col-lg-8">
              <div class="card mb-4">
                <div class="card-body">
                  <h5 class="card-title">How old are you?</h5>
                  <div class="chart-container">
                    <app-doughnut-chart [shadow]="true" [options]="chartDataConfig.doughnutChartOptions"
                      [data]="ageChartData">
                    </app-doughnut-chart>
                  </div>
                </div>
              </div>
              <div class="card mb-4">
                <div class="card-body">
                  <h5 class="card-title">What is your gender?</h5>
                  <div class="chart-container">
                    <app-doughnut-chart [shadow]="true" [options]="chartDataConfig.doughnutChartOptions"
                      [data]="genderChartData">
                    </app-doughnut-chart>
                  </div>
                </div>
              </div>
              <div class="card mb-4">
                <div class="card-body">
                  <h5 class="card-title">What is your employment status?</h5>
                  <div class="chart-container">
                    <app-doughnut-chart [shadow]="true" [options]="chartDataConfig.doughnutChartOptions"
                      [data]="workChartData">
                    </app-doughnut-chart>
                  </div>
                </div>
              </div>
              <div class="card mb-4">
                <div class="card-body">
                  <h5 class="card-title">
                    What programming languages do you use?
                  </h5>
                  <div class="chart-container">
                    <app-doughnut-chart [shadow]="true" [options]="chartDataConfig.doughnutChartOptions"
                      [data]="codingChartData">
                    </app-doughnut-chart>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </tab>
      </tabset>
    </div>
  </ng-container>
  <ng-template #loading>
    <div class="loading"></div>
  </ng-template>
</div>


<app-application-menu>
  <div class="p-4 h-100">
    <div class="scroll">
      <h3 class="text-muted  ">{{ 'leave.summary' | translate }}</h3>
      <ul class="list-unstyled mb-5">
        <li class="active">
          <a href="javascript:;">
            <i class="simple-icon-check"></i>
            ลาป่วย
            <span class="float-right">12</span>
          </a>
        </li>
        <li>
          <a href="javascript:;">
            <i class="simple-icon-check"></i>
            ลากิจ
            <span class="float-right">24</span>
          </a>
        </li>
        <li>
          <a href="javascript:;">
            <i class="simple-icon-check"></i>
            ลาพักผ่อน
            <span class="float-right">10</span>
          </a>
        </li>
        <li>
          <a href="javascript:;">
            <i class="simple-icon-check"></i>
            ลาคลอด
            <span class="float-right">90</span>
          </a>
        </li>
        <li>
          <a href="javascript:;">
            <i class="simple-icon-check"></i>
            ช่วยภริยา
            <span class="float-right">15</span>
          </a>
        </li>
        <li>
          <a href="javascript:;">
            <i class="simple-icon-check"></i>
            อุปสมบท
            <span class="float-right">32</span>
          </a>
        </li>
      </ul>
      <p class="text-muted text-small">{{ 'leave.lasttime' | translate }}</p>
      <ul class="list-unstyled mb-5">
        <li> <a href="javascript:;">
            <i class="simple-icon-check"></i>ลากิจ </a>
        </li>
        <li> <a href="javascript:;">
            <i class="simple-icon-calendar"></i>12/04/62 - 12/04/62 </a>
        </li>
        <li> <a href="javascript:;">
            <i class="simple-icon-calculator"></i> 0.5 </a>

        </li>
      </ul>
    </div>
  </div>
</app-application-menu>